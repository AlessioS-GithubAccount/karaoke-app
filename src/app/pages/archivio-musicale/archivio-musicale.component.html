<div class="container mt-4">
  <h2>📚 Archivio Musicale</h2>

  <!-- 🔍 Search bar -->
  <div class="mb-3">
    <input
      type="text"
      class="form-control"
      placeholder="Cerca per artista o canzone..."
      [(ngModel)]="searchText"
    />
  </div>

  <table class="table table-bordered table-hover mt-2" *ngIf="archivioFiltrato.length > 0; else noCanzoni">
    <thead class="table-dark">
      <tr>
        <th>Artista</th>
        <th>Canzone</th>
        <th>Richieste totali</th>
        <th *ngIf="isAdmin">Azioni</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of archivioFiltrato">
        <td>{{ item.artista }}</td>
        <td>{{ item.canzone }}</td>
        <td>{{ item.num_richieste }}</td>
        <td *ngIf="isAdmin">
          <button class="btn btn-danger btn-sm" (click)="eliminaCanzone(item.id)">Elimina</button>
        </td>
      </tr>
    </tbody>
  </table>

  <ng-template #noCanzoni>
    <div class="alert alert-info">Nessuna canzone trovata.</div>
  </ng-template>
</div>
